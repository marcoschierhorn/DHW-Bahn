CREATE TABLE codes (id BIGINT AUTO_INCREMENT, name VARCHAR(255), used TINYINT(1) DEFAULT '0', created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE standorte (id SMALLINT AUTO_INCREMENT, name VARCHAR(255), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE survey (id BIGINT, survey_angebot_bekannt_id SMALLINT, survey_angebot_vergleichbare_reise_id SMALLINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX survey_angebot_bekannt_id_idx (survey_angebot_bekannt_id), INDEX survey_angebot_vergleichbare_reise_id_idx (survey_angebot_vergleichbare_reise_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE survey_angebot_bekannt (id SMALLINT AUTO_INCREMENT, name VARCHAR(255), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE survey_angebot_vergleichbare_reise (id SMALLINT AUTO_INCREMENT, name VARCHAR(255), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE survey_angebot_verkehrsmittel12 (id SMALLINT AUTO_INCREMENT, name VARCHAR(255), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE survey_angebot_verkehrsmittel12_user (survey_id SMALLINT, user_id BIGINT, PRIMARY KEY(survey_id, user_id)) ENGINE = INNODB;
CREATE TABLE survey_angebot_verkehrsmittel_allgemein (id SMALLINT AUTO_INCREMENT, name VARCHAR(255), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE survey_angebot_verkehrsmittel_allgemein_user (survey_id SMALLINT, user_id BIGINT, PRIMARY KEY(survey_id, user_id)) ENGINE = INNODB;
CREATE TABLE survey_anlaesse (id SMALLINT AUTO_INCREMENT, name VARCHAR(255), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE survey_anlaesse_user (survey_id SMALLINT, user_id BIGINT, PRIMARY KEY(survey_id, user_id)) ENGINE = INNODB;
CREATE TABLE user (id BIGINT AUTO_INCREMENT, anrede VARCHAR(255) NOT NULL, vorname VARCHAR(255) NOT NULL, nachname VARCHAR(255) NOT NULL, email VARCHAR(255) NOT NULL, strasse VARCHAR(255) NOT NULL, plz BIGINT NOT NULL, wohnort VARCHAR(255) NOT NULL, codes_id BIGINT, standorte_id SMALLINT, abgemeldet TINYINT(1) DEFAULT '0', survey_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, UNIQUE INDEX email_index_idx (email(10) ASC), INDEX codes_id_idx (codes_id), INDEX standorte_id_idx (standorte_id), INDEX survey_id_idx (survey_id), PRIMARY KEY(id)) ENGINE = INNODB;
ALTER TABLE survey ADD CONSTRAINT survey_survey_angebot_bekannt_id_survey_angebot_bekannt_id FOREIGN KEY (survey_angebot_bekannt_id) REFERENCES survey_angebot_bekannt(id);
ALTER TABLE survey ADD CONSTRAINT sssi FOREIGN KEY (survey_angebot_vergleichbare_reise_id) REFERENCES survey_angebot_vergleichbare_reise(id);
ALTER TABLE survey_angebot_verkehrsmittel12_user ADD CONSTRAINT survey_angebot_verkehrsmittel12_user_user_id_user_id FOREIGN KEY (user_id) REFERENCES user(id);
ALTER TABLE survey_angebot_verkehrsmittel12_user ADD CONSTRAINT sssi_1 FOREIGN KEY (survey_id) REFERENCES survey_angebot_verkehrsmittel12(id);
ALTER TABLE survey_angebot_verkehrsmittel_allgemein_user ADD CONSTRAINT survey_angebot_verkehrsmittel_allgemein_user_user_id_user_id FOREIGN KEY (user_id) REFERENCES user(id);
ALTER TABLE survey_angebot_verkehrsmittel_allgemein_user ADD CONSTRAINT sssi_2 FOREIGN KEY (survey_id) REFERENCES survey_angebot_verkehrsmittel_allgemein(id);
ALTER TABLE survey_anlaesse_user ADD CONSTRAINT survey_anlaesse_user_user_id_user_id FOREIGN KEY (user_id) REFERENCES user(id);
ALTER TABLE survey_anlaesse_user ADD CONSTRAINT survey_anlaesse_user_survey_id_survey_anlaesse_id FOREIGN KEY (survey_id) REFERENCES survey_anlaesse(id);
ALTER TABLE user ADD CONSTRAINT user_survey_id_survey_id FOREIGN KEY (survey_id) REFERENCES survey(id);
ALTER TABLE user ADD CONSTRAINT user_standorte_id_standorte_id FOREIGN KEY (standorte_id) REFERENCES standorte(id);
ALTER TABLE user ADD CONSTRAINT user_codes_id_codes_id FOREIGN KEY (codes_id) REFERENCES codes(id);
